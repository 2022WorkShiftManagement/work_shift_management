{% extends "layout.html" %}

{% block title %}
    グループ詳細｜Jyobi-Calendar
{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/group_detail.css') }}">
{% endblock %}

{% block back_page %}
    <a href="#" onclick="window.history.back(); return false;">＜</a>
{% endblock %}

{% block header %}
    グループ詳細
{% endblock %}

{% block main %}
    <main>
        <div id="group_name">
            <h3>Group Name</h3>
            <input class="ef" id="group_name_text" value="{{ details[0][4] }}" readonly>
        </div>
        <div id="group_link">
            <h3>Group Link</h3>
            <img id="group_link_text_copy" src="{{ url_for('static', filename='images/copyLogo.png') }}" alt="コピー" onclick="copyToClipboard()">
{#            <a href="#" id="group_link_text_copy" onclick="copyToClipboard()">Copy</a>#}
            <input class="ef" id="group_link_text" type="text" value="{{ details[0][5] }}" readonly>
        </div>
        <div id="group_link_qr_img"></div>
        <div id="members_list">
            <h3>Member List</h3>
            <table>
                <ul>{% for i in details %}
                    {% if i[0] == 1 %}
                        <tr>
                            {% if i[0] == i[3] %}
                                <td>
                                    <p>Leader</p>
                                </td>
                                <td>
                                    <li>{{ i[1] }}</li>
                                </td>
                                <td></td>
                            {% else %}
                                <td>
                                    <p></p>
                                </td>
                                <td>
                                    <li>{{ i[1] }}</li>
                                </td>
                                <td>
                                    <a onclick="alert('退室')">退室</a>
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endfor %}

                    {% for i in details %}
                        {% if i[0] != 1 %}
                            {% if i[0] == i[3] %}
                                <tr>
                                    <td><p>Leader</p></td>
                                    <td>
                                        <li>{{ i[1] }}</li>
                                    </td>
                                    <td></td>
                                    {% else %}
                                    <td></td>
                                    <td>
                                        <li>{{ i[1] }}</li>
                                    </td>
                                    <td>
                                        <a onclick="alert('削除')">Remove</a>
                                    </td>
                                </tr>
                            {% endif %}

                        {% endif %}
                    {% endfor %}
                </ul>
            </table>
        </div>
    </main>
{% endblock %}

{% block js %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>
    <script src="{{ url_for('static', filename='js/group_detail.js') }}"></script>
{% endblock %}