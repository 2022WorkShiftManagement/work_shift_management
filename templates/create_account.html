{% extends "layout.html" %}

{% block title %}
アカウント作成【ジョビカレンダー】
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{url_for('static', filename='css/create_account.css')}}">
{% endblock %}

{% block back_page %}
<a href="/">＜</a>
{% endblock %}

{% block header %}
アカウント作成
{% endblock %}

{% block main %}
<main>
    <p id="error">{% if error %}{{error}}{% endif %}</p>

    <form action="{{url_for('create_account.confirm_account_page')}}" method="post" onSubmit="return checkPw()">
        <ul>
            <li>
                <div class="input_text">
                    <input class="ef" type="text" name="name" id="name" value="{{account['name']}}" placeholder="空白無しの32文字以内" required>
                    <label for="name">Name</label>
                    <span class="focus_line"></span>
                </div>
            </li>
            <li>
                <div class="input_text">
                    <input class="ef" type="email" name="mail" id="mail" value="{{account['mail']}}" placeholder="x@x.xの形式で64文字以内" required>
                    <label for="mail">Mail</label>
                    <span class="focus_line"></span>
                </div>
            </li>
            <li>
                <div class="input_text">
                    <input class="ef" type="password" name="pw" id="pw" placeholder="大小英数字を含む6文字以上" required>
                    <label for="pw">PW</label>
                    <span class="focus_line"></span>
                </div>
            </li>
            <li>
                <div class="input_text">
                    <input class="ef" type="password" name="re_pw" id="re_pw" placeholder="上記と同じパスワード" required>
                    <label for="re_pw">RePW</label>
                    <span class="focus_line"></span>
                </div>
            </li>
        </ul>
        <div>
            <input type="submit" value="次へ">
        </div>
    </form>
</main>
{% endblock %}

{% block js %}
<script>
    // パスワードの確認
    function checkPw() {
        const pw = document.getElementById('pw');
        const re_pw = document.getElementById('re_pw');

        if (pw.value !== re_pw.value) {
            const error = document.getElementById('error');
            error.textContent = 'パスワードが等しくありません。' ;
            pw.value = '';
            re_pw.value = '';
            return false;
        }

        return true;
    }
</script>
{% endblock %}